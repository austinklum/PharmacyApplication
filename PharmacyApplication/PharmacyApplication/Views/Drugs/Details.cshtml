@model PharmacyApplication.Models.Drug
@using PharmacyApplication.Controllers
@using Microsoft.AspNetCore.Http
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">@Html.DisplayNameFor(model => model.MedicalName)</dt>
        <dd class="col-sm-10">@Html.DisplayFor(model => model.MedicalName)</dd>
        <dt class="col-sm-2">@Html.DisplayNameFor(model => model.Type)</dt>
        <dd class="col-sm-10">@Html.DisplayFor(model => model.Type)</dd>
        <dt class="col-sm-2">@Html.DisplayNameFor(model => model.Stock)</dt>
        <dd class="col-sm-10">@Html.DisplayFor(model => model.Stock)</dd>
        <dt class="col-sm-2">@Html.DisplayNameFor(model => model.CostPer)</dt>
        <dd class="col-sm-10">@Html.DisplayFor(model => model.CostPer)</dd>
        <dt class="col-sm-2">@Html.DisplayNameFor(model => model.RecommendedDose)</dt>
        <dd class="col-sm-10">@Html.DisplayFor(model => model.RecommendedDose)</dd>
    </dl>
</div>
<div>
    <div>
        <form asp-controller="Drugs" asp-action="UpdateStock" method="get">
            <div>
                <text class="font-weight-bold">Add to stock:</text>
            </div>
            <div>
                <input type="text" name="NewStock" />
                @if (!HttpContextAccessor.HttpContext.Session.GetString(HomeController.DrugCountValidation).Equals(""))
                {
                    <span class="badge badge-danger">@HttpContextAccessor.HttpContext.Session.GetString(HomeController.DrugCountValidation)</span>
                }
                <input type="hidden" name="DrugId" value="@Model.Id" />
            </div>
            <div style="margin-top: 5px">
                <input type="submit" value="Update" class="btn btn-primary btn-block" style="width: 15%" />
            </div>
        </form>
    </div>
    <div style="margin-top: 5px">
        <a asp-action="Index" class="btn btn-primary btn-block" style="width: 15%">Back to List</a>
    </div>
</div>
