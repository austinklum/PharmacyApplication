@using Microsoft.AspNetCore.Http
@using PharmacyApplication.Controllers
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
@{
    ViewBag.Title = "UserDashBoard";
}

<fieldset>
    <legend>User DashBoard</legend>
    @if (HttpContextAccessor.HttpContext.Session.GetString("Username") != null)
    {
        <p>
            <text>Welcome @HttpContextAccessor.HttpContext.Session.GetString("Username").ToString()</text>
        </p>
    }
    <h4>My Details</h4>
    <a asp-action="MyDetails" asp-id="@int.Parse(HttpContextAccessor.HttpContext.Session.GetString(HomeController.UserId))" class="btn btn-primary btn-block" style="width: 15%">View my details</a>
    <p> </p>
    <h4>Unfinished prescriptions</h4>
    @await Component.InvokeAsync("PrescriptionList")
    @using (Html.BeginForm("LogOut", "Home", FormMethod.Post))
    {
        <input type="submit" value="Log out" />
    }
</fieldset>
